{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst apiKey = '41917538-242eecdf4d8f318e540737d69';\nconst apiUrl = 'https://pixabay.com/api/';\n\nconst searchForm = document\n  .getElementById('search-form')\n  .addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    const searchTerm = document.querySelector('input').value.trim();\n\n    if (searchTerm === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search term.',\n      });\n      return;\n    }\n    clearGallery();\n    searchImages(searchTerm);\n  });\n\nfunction searchImages(query) {\n  const params = `key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&per_page=21`;\n\n  fetch(`${apiUrl}?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits && data.hits.length > 0) {\n        displayImages(data.hits);\n      } else {\n        showNoImagesMessage();\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      showErrorMessage();\n    });\n}\n\nfunction displayImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n\n  images.forEach(image => {\n    const card = document.createElement('div');\n      card.className = 'image-card';\n      \n          const link = document.createElement('a');\n    link.href = image.webformatURL;\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    img.className = 'gallery-image';\n\n    const metadata = document.createElement('div');\n    metadata.className = 'image-metadata';\n    metadata.innerHTML = `\n      <p>Likes: ${image.likes}</p>\n      <p>Views: ${image.views}</p>\n      <p>Comments: ${image.comments}</p>\n      <p>Downloads: ${image.downloads}</p>\n    `;\n      card.appendChild(link);\n      link.appendChild(img);\n    // card.appendChild(img);\n    card.appendChild(metadata);\n\n      gallery.appendChild(card);\n\n  });\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n          lightbox.refresh()\n}\n\nfunction showNoImagesMessage() {\n  iziToast.error({\n    title: 'Sorry!',\n    message:\n      'There are no images matching your search query. Please try again!',\n  });\n}\n\nfunction showErrorMessage() {\n  iziToast.error({\n    title: 'Error!',\n    message: 'An error occurred while fetching images. Please try again later.',\n  });\n}\n\nfunction clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n"],"names":["apiKey","apiUrl","event","searchTerm","iziToast","clearGallery","searchImages","query","params","response","data","displayImages","showNoImagesMessage","error","showErrorMessage","images","gallery","image","card","link","img","metadata","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAS,qCACTC,EAAS,2BAEI,SAChB,eAAe,aAAa,EAC5B,iBAAiB,SAAU,SAAUC,EAAO,CAC3CA,EAAM,eAAc,EAEpB,MAAMC,EAAa,SAAS,cAAc,OAAO,EAAE,MAAM,OAEzD,GAAIA,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACjB,CAAO,EACD,MACD,CACDC,IACAC,EAAaH,CAAU,CAC3B,CAAG,EAEH,SAASG,EAAaC,EAAO,CAC3B,MAAMC,EAAS,OAAOR,OAAYO,wEAElC,MAAM,GAAGN,KAAUO,GAAQ,EACxB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACRA,EAAK,MAAQA,EAAK,KAAK,OAAS,EAClCC,EAAcD,EAAK,IAAI,EAEvBE,GAER,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CC,GACN,CAAK,CACL,CAEA,SAASH,EAAcI,EAAQ,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpBD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACvCA,EAAK,UAAY,aAEb,MAAMC,EAAO,SAAS,cAAc,GAAG,EAC7CA,EAAK,KAAOF,EAAM,aAElB,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAChBG,EAAI,UAAY,gBAEhB,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAY,iBACrBA,EAAS,UAAY;AAAA,kBACPJ,EAAM;AAAA,kBACNA,EAAM;AAAA,qBACHA,EAAM;AAAA,sBACLA,EAAM;AAAA,MAEtBC,EAAK,YAAYC,CAAI,EACrBA,EAAK,YAAYC,CAAG,EAEtBF,EAAK,YAAYG,CAAQ,EAEvBL,EAAQ,YAAYE,CAAI,CAE9B,CAAG,EACgB,IAAII,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EACgB,QAAS,CAC5B,CAEA,SAASV,GAAsB,CAC7BR,EAAS,MAAM,CACb,MAAO,SACP,QACE,mEACN,CAAG,CACH,CAEA,SAASU,GAAmB,CAC1BV,EAAS,MAAM,CACb,MAAO,SACP,QAAS,kEACb,CAAG,CACH,CAEA,SAASC,GAAe,CACtB,MAAMW,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB"}